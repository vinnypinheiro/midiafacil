(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"3/DG":function(t,e){function i(t,e){var i=[],o=[];return null==e&&(e=function(t,e){return i[0]===e?"[Circular ~]":"[Circular ~."+o.slice(0,i.indexOf(e)).join(".")+"]"}),function(n,r){if(i.length>0){var a=i.indexOf(this);~a?i.splice(a+1):i.push(this),~a?o.splice(a,1/0,n):o.push(n),~i.indexOf(r)&&(r=e.call(this,n,r))}else i.push(r);return null==t?r:t.call(this,n,r)}}(t.exports=function(t,e,o,n){return JSON.stringify(t,i(e,n),o)}).getSerialize=i},"7pRi":function(t,e,i){"use strict";i.d(e,"a",function(){return n});var o=i("oCjk"),n=function(){function t(t,e,i){this.apiService=t,this.route=e,this.router=i,this.Operation=o.d,this.activeBean={},this.lookupFilters={},this.stickyMenu=!1}return t.prototype.ngOnInit=function(){var t=this;this.beanSubscribe=this.route.params.subscribe(function(e){t.beanId=e.id,"novo"===t.beanId?(t.beanId="",t.operation=o.d.CREATE):(t.operation=o.d.SELECT,t.apiService.findById(t.beanId).subscribe(function(e){t.activeBean=e}))}),this.iCheckGreenLoad(),this.ControlCollapse()},t.prototype.save=function(){var t=this;this.apiService.save(this.activeBean).subscribe(function(e){console.log(e),t.openGrid()})},t.prototype.update=function(){var t=this;this.apiService.update(this.activeBean).subscribe(function(e){console.log(e),t.openGrid()})},t.prototype.saveLote=function(){var t=this;this.apiService.saveLote(this.activeBean).subscribe(function(e){console.log(e),t.openGrid()})},t.prototype.ngAfterViewInit=function(){},t.prototype.onLookupCodeChange=function(t){this.lookupFilters[t.name]||(this.lookupFilters[t.name]=this.getDeLookupFilter(t));var e=this.lookupFilters[t.name];e.page=t.page;for(var i=0,o=e.whereClauses;i<o.length;i++)o[i].iniValue=t.code;this.getLookupService(t.name).loadQuery(e,t.name+"Lkp").subscribe(function(e){t.lookup.evaluateQueryReturn(e.content,e.filterData.page,e.filterData.totalPages)})},t.prototype.getDefaultFilter=function(){return{page:1,limit:300,whereClauses:[]}},t.prototype.buildFilter=function(t){var e=this.getDefaultFilter();e.page=1,e.limit=t.limit?t.limit:300,e.order=t.order?t.order:void 0;for(var i=0,o=t.whereClauses;i<o.length;i++)e.whereClauses.push(o[i]);return e},t.prototype.buildLookupFilter=function(t){var e=this.getDefaultFilter();return e.limit=10,e.order=t+".nome",e.whereClauses.push({table:t,name:null==e.codigoField?"codigo":e.codigoField,dataType:"STRING",matchType:"LIKE"}),e.whereClauses.push({table:t,name:null==e.nomeField?"nome":e.nomeField,dataType:"STRING",matchType:"LIKE",whereType:"OR"}),e},t.prototype.ControlCollapse=function(){$(".collapse-link").on("click",function(t){t.preventDefault();var e=$(this).closest("div.ibox"),i=$(this).find("i");e.children(".ibox-content").slideToggle(200),i.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"),e.toggleClass("").toggleClass("border-bottom"),setTimeout(function(){e.resize(),e.find("[id^=map-]").resize()},50)}),$(".close-link").on("click",function(t){t.preventDefault(),$(this).closest("div.ibox").remove()}),$(".fullscreen-link").on("click",function(t){t.preventDefault();var e=$(this).closest("div.ibox"),i=$(this).find("i");$("body").toggleClass("fullscreen-ibox-mode"),i.toggleClass("fa-expand").toggleClass("fa-compress"),e.toggleClass("fullscreen"),setTimeout(function(){$(window).trigger("resize")},100)})},t.prototype.handleScroll=function(){var t=window.pageYOffset;this.stickyMenu=t>=150},t.prototype.enableEdit=function(){this.canEdit()?this.operation=o.d.UPDATE:alert("N\xe3o autorizado.")},t.prototype.delete=function(t){var e=this;this.canDelete()?confirm("Tem certeza que quer deletar "+t+" ?")&&this.apiService.delete(this.activeBean.id).subscribe(function(t){e.openGrid()}):alert("N\xe3o autorizado.")},t.prototype.canEdit=function(){return!0},t.prototype.canDelete=function(){return!0},t.prototype.openGrid=function(){this.router.navigateByUrl("/"+this.apiService.getPathModule())},t.prototype.saveItems=function(){},t.prototype.loadItems=function(){},t.prototype.iCheckGreenLoad=function(){$(".i-checks").iCheck({checkboxClass:"icheckbox_square-green",radioClass:"iradio_square-green"})},t}()},Al0r:function(t,e,i){"use strict";i.d(e,"a",function(){return l});var o=i("mrSG"),n=i("fRS3"),r=i("CcnG"),a=i("t/Na"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.getPathModule=function(){return"tipomidia"},e.ngInjectableDef=r.W({factory:function(){return new e(r.ab(a.c))},token:e,providedIn:"root"}),e}(n.a)},K03V:function(t,e,i){"use strict";i("CcnG");var o=function(){return function(){this.first=!1,this.prior=!1,this.next=!1,this.last=!1,this.locate=!1,this.open=!1,this.print=!1,this.new=!1,this.copy=!1,this.delete=!1,this.close=!0,this.filter=!1}}(),n=i("naTb");i.d(e,"a",function(){return r});var r=function(){function t(t,e){this.apiService=t,this.router=e,this.activeBean={},this.filterData={}}return t.prototype.getFilterData=function(){return this.filterData},t.prototype.ngOnInit=function(){this.toolBar.stateButons=new o,this.loadByFilter(this.getDefaultFilter())},t.prototype.loadByFilter=function(t){var e=this;this.apiService.loadByFilter(t).subscribe(function(t){e.activeBean=null})},t.prototype.onButtonActionClick=function(t){switch(t){case"first":this.filterData.page=1,this.loadByFilter(this.filterData);break;case"prior":--this.filterData.page,this.loadByFilter(this.filterData);break;case"next":++this.filterData.page,this.loadByFilter(this.filterData);break;case"last":this.filterData.page=this.filterData.totalPages,this.loadByFilter(this.filterData);break;case"open":this.router.navigateByUrl("/"+this.apiService.getPathModule()+"/"+this.activeBean.id);break;case"new":this.router.navigateByUrl("/"+this.apiService.getPathModule()+"/novo")}},t.prototype.onSelectionChange=function(t,e){this.activeBean=t?e:null,this.toolBar.stateButons.open=null!=this.activeBean,this.toolBar.stateButons.print=null!=this.activeBean,this.toolBar.stateButons.copy=null!=this.activeBean,this.toolBar.stateButons.delete=null!=this.activeBean,n.a.beanIdSelected=this.activeBean.id},t.prototype.onFilterValueChange=function(t){this.filterData=this.getRowFilter();for(var e=0,i=this.filterData.whereClauses;e<i.length;e++)i[e].iniValue=t;this.loadByFilter(this.filterData)},t.prototype.getDefaultFilter=function(){return{page:1,limit:300,whereClauses:[]}},t.prototype.buildRowFilter=function(t){var e=this.getDefaultFilter();return e.whereClauses.push({table:t,name:null==e.codigoField?"codigo":e.codigoField,dataType:"STRING",matchType:"LIKE"}),e.whereClauses.push({table:t,name:null==e.nomeField?"nome":e.nomeField,dataType:"STRING",matchType:"LIKE",whereType:"OR"}),e},t.prototype.getFieldList=function(){return[]},t.prototype.getTableName=function(){return"sem tabela"},t}()},fRS3:function(t,e,i){"use strict";var o=i("67Y/"),n={production:!1,getBaseURL:function(){return"https://midiafacil.herokuapp.com"}},r=i("3/DG");i.d(e,"a",function(){return a});var a=function(){function t(t){this.http=t,this.API_ROOT_URL=n.getBaseURL(),this.reportName=""}return t.prototype.loadByFilter=function(t){return this.http.post(this.API_ROOT_URL+"/"+this.getPathModule()+"/",t)},t.prototype.save=function(t){return this.http.post(this.API_ROOT_URL+"/"+this.getPathModule()+"/save",JSON.parse(r(t)))},t.prototype.update=function(t){return this.http.post(this.API_ROOT_URL+"/"+this.getPathModule()+"/update",JSON.parse(r(t)))},t.prototype.saveLote=function(t){return console.log(t),this.http.post(this.API_ROOT_URL+"/"+this.getPathModule()+"/saveLote",JSON.parse(r(t)))},t.prototype.loadQuery=function(t,e){return this.http.post(this.API_ROOT_URL+"/"+this.getPathModule()+"/q/"+e,t)},t.prototype.findById=function(t){return this.http.get(this.API_ROOT_URL+"/"+this.getPathModule()+"/"+t)},t.prototype.delete=function(t){return this.http.delete(this.API_ROOT_URL+"/"+this.getPathModule()+"/"+t)},t.prototype.hashCode=function(t){var e=0,i=t.length,o=0;if(i>0)for(;o<i;)e=(e<<5)-e+t.charCodeAt(o++)|0;return e},t.prototype.printReport=function(t){this.reportName=t,null!==this.reportName&&""!==this.reportName&&this.downloadPDF().subscribe(function(t){var e=URL.createObjectURL(t);window.open(e)})},t.prototype.downloadPDF=function(){return this.http.post(this.API_ROOT_URL+"/reports/"+this.reportName,{page:1,limit:15,whereClauses:[]},{responseType:"blob"}).pipe(Object(o.a)(function(t){return new Blob([t],{type:"application/pdf"})}))},t}()},rxZv:function(t,e,i){"use strict";i.r(e);var o=i("CcnG"),n=i("mrSG"),r=i("oCjk"),a=i("K03V"),l=i("dNMW"),s=function(t){function e(e,i){return t.call(this,e,i)||this}return Object(n.c)(e,t),e.prototype.ngOnInit=function(){t.prototype.ngOnInit.call(this)},e.prototype.onNavigateClick=function(t){this.loadByFilter(t)},e.prototype.getDefaultFilter=function(){var e=t.prototype.getDefaultFilter.call(this);return e.order="peca.centimetros, peca.colunas, peca.duracao, peca.peca, peca.titulo, peca.formato_id, peca.formatorevista_id, peca.material_id, peca.planomidia_id, peca.tipomidia_id ",e},e.prototype.getRowFilter=function(){var t=this.buildRowFilter("trb_peca");return t.whereClauses[0].dataType="INTEGER",t},e.prototype.getTableName=function(){return"peca"},e.prototype.getFieldList=function(){var t=[];return t[0]=new r.b("centimetros","centimetros","LOOKUP"),t[1]=new r.b("colunas","colunas","STRING"),t[2]=new r.b("duracao","duracao","STRING"),t[3]=new r.b("peca","peca","STRING"),t[4]=new r.b("titulo","titulo","STRING"),t[5]=new r.b("formato_id","formato_id","ENUM"),t[6]=new r.b("formatorevista_id","formatorevista_id","ENUM"),t[7]=new r.b("material_id","material_id","ENUM"),t[8]=new r.b("planomidia_id","planomidia_id","ENUM"),t[9]=new r.b("tipomidia_id","tipomidia_id","ENUM"),t},e.prototype.getReportList=function(){return[]},e}(a.a),u=i("7pRi"),c=i("6r4O"),p=i("CaXE"),h=i("BaCM"),d=i("N9PK"),f=i("Al0r"),b=i("Hk8c"),v=function(t){function e(e,i,o,n,r,a,l,s,u){var c=t.call(this,e,s,u)||this;return c.formatoService=i,c.formatorevistaService=o,c.materialService=n,c.planomidiaService=r,c.tipomidiaService=a,c.tipomidiadigitalService=l,c}return Object(n.c)(e,t),e.prototype.ngOnInit=function(){t.prototype.ngOnInit.call(this)},e.prototype.getLookupService=function(t){switch(t){case"formato":return this.formatoService;case"formatorevista":return this.formatorevistaService;case"material":return this.materialService;case"planomidia":return this.planomidiaService;case"tipomidia":return this.tipomidiaService;case"tipomidiadigital":return this.tipomidiadigitalService;default:return console.log("servi\xe7o n\xe3o disponibilizado para ",t),this.apiService}},e.prototype.getDeLookupFilter=function(t){switch(t.name){case"formato":return this.buildLookupFilter("formato");case"formatorevista":return this.buildLookupFilter("formatorevista");case"material":return this.buildLookupFilter("material");case"planomidia":return this.buildLookupFilter("planomidia");case"tipomidia":return this.buildLookupFilter("tipomidia");case"tipomidiadigital":return this.buildLookupFilter("tipomidiadigital");default:console.log("filtro n\xe3o disponibilizado para ",t.name)}return null},e.prototype.onButtonActionClick=function(){},e}(u.a),g=i("dR4o"),m=function(){return function(){}}(),y=i("pMnS"),B=i("ZYCi"),w=o.rb({encapsulation:2,styles:[],data:{}});function F(t){return o.Nb(0,[o.Jb(402653184,1,{toolBar:0})],null,null)}function S(t){return o.Nb(0,[(t()(),o.tb(0,0,null,null,1,"gov-peca-grid",[],null,null,null,F,w)),o.sb(1,114688,null,0,s,[l.a,B.o],null,null)],function(t,e){t(e,1,0)},null)}var C=o.pb("gov-peca-grid",s,S,{},{},[]),k=o.rb({encapsulation:2,styles:[],data:{}});function R(t){return o.Nb(0,[],null,null)}function O(t){return o.Nb(0,[(t()(),o.tb(0,0,null,null,1,"gov-peca-form",[],null,[["window","scroll"]],function(t,e,i){var n=!0;return"window:scroll"===e&&(n=!1!==o.Db(t,1).handleScroll(i)&&n),n},R,k)),o.sb(1,4308992,null,0,v,[l.a,c.a,p.a,h.a,d.a,f.a,b.a,B.a,B.o],null,null)],function(t,e){t(e,1,0)},null)}var T=o.pb("gov-peca-form",v,O,{},{},[]),I=i("Ip0R"),L=i("gIcY"),D=i("t/Na"),N=i("38BB"),_=i("naTb"),P=i("ZYjt"),G=i("e43+"),U=i("PCNd");i.d(e,"PecaModuleNgFactory",function(){return E});var E=o.qb(m,[],function(t){return o.Ab([o.Bb(512,o.j,o.fb,[[8,[y.a,C,T]],[3,o.j],o.z]),o.Bb(4608,I.n,I.m,[o.w,[2,I.A]]),o.Bb(4608,L.B,L.B,[]),o.Bb(4608,D.k,D.q,[I.d,o.D,D.o]),o.Bb(4608,D.r,D.r,[D.k,D.p]),o.Bb(5120,D.a,function(t){return[t,new N.a]},[D.r]),o.Bb(4608,D.n,D.n,[]),o.Bb(6144,D.l,null,[D.n]),o.Bb(4608,D.j,D.j,[D.l]),o.Bb(6144,D.b,null,[D.j]),o.Bb(4608,D.f,D.m,[D.b,o.s]),o.Bb(4608,D.c,D.c,[D.f]),o.Bb(4608,_.a,_.a,[D.c,P.b]),o.Bb(4608,g.a,g.a,[B.o,_.a]),o.Bb(4608,G.a,G.a,[D.c]),o.Bb(1073742336,B.s,B.s,[[2,B.z],[2,B.o]]),o.Bb(1073742336,I.c,I.c,[]),o.Bb(1073742336,L.z,L.z,[]),o.Bb(1073742336,L.m,L.m,[]),o.Bb(1073742336,D.e,D.e,[]),o.Bb(1073742336,D.d,D.d,[]),o.Bb(1073742336,U.a,U.a,[]),o.Bb(1073742336,m,m,[]),o.Bb(256,D.o,"XSRF-TOKEN",[]),o.Bb(256,D.p,"X-XSRF-TOKEN",[]),o.Bb(1024,B.m,function(){return[[{path:"",component:s,canActivate:[g.a]},{path:":id",component:v,canActivate:[g.a]}]]},[])])})}}]);